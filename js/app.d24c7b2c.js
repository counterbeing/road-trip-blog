(function(t){function e(e){for(var r,a,s=e[0],c=e[1],l=e[2],d=0,h=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),i=n.n(r);i.a},"0710":function(t,e,n){},"38c3":function(t,e,n){"use strict";var r=n("c310"),i=n.n(r);i.a},"4e2f":function(t,e,n){},5490:function(t,e,n){"use strict";var r=n("bdf3"),i=n.n(r);i.a},"560f":function(t,e,n){"use strict";var r=n("4e2f"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);var r=n("a026"),i=n("8c4f"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"blog"}},[n("Inspector"),n("Map"),t.story?n("Navbar",{staticClass:"desktop-hidden",attrs:{story:t.story}}):t._e()],1)},a=[],s=n("2f62"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"inspector",staticClass:"inspector"},[t.storySelected?t._e():n("story-index"),t.storySelectedAndLoaded?n("div",[n("Navbar",{attrs:{story:t.story}}),n("main",[n("h1",{staticClass:"title"},[t._v(t._s(t.story.title))]),n("h2",{staticClass:"title"},[n("date-range",{attrs:{start:t.story.startDate,end:t.story.endDate}})],1),n("div",{staticClass:"body",domProps:{innerHTML:t._s(t.story.body)}}),t._l(t.story.photos,(function(e){return n("div",{key:e.file,staticClass:"photo"},[n("media",{attrs:{media:e,imageWidth:t.imageWidth}})],1)}))],2),n("Navbar",{staticClass:"mobile-hidden",attrs:{story:t.story}})],1):t._e()],1)},l=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"story-index"}},[n("h1",[t._v("STORIES")]),n("ul",t._l(t.stories,(function(e){return n("router-link",{key:e.id,attrs:{tag:"li",to:{name:"Story",params:{id:e.id}}}},[n("h2",[t._v(t._s(e.title))]),n("small",[n("date-range",{attrs:{start:e.startDate,end:e.endDate}})],1)])})),1)])},d=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.range?n("span",[n("time",{attrs:{datetime:t.start}},[t._v(t._s(t._f("formatDate")(t.start)))]),t._v(" to\n    "),n("time",{attrs:{datetime:t.end}},[t._v(t._s(t._f("formatDate")(t.end)))])]):n("span",[n("time",{attrs:{datetime:t.start}},[t._v(t._s(t._f("formatDate")(t.start)))])])])},p=[],f=n("9a80"),v={props:["start","end"],computed:{range(){if(!this.start||!this.end)return!1;const t=Object(f["a"])(new Date(this.end),new Date(this.start));return t>24}}},m=v,g=n("2877"),y=Object(g["a"])(m,h,p,!1,null,null,null),b=y.exports,A={components:{DateRange:b},computed:{...Object(s["c"])(["stories"])},data:()=>({}),metaInfo:{title:"Index of Places",titleTemplate:"%s ← Katie and Cory go places together",meta:[{"http-equiv":"Content-Type",content:"text/html; charset=utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{name:"description",content:"The index of places we've gone together. Links to click and explore the map."}]}},w=A,L=(n("8675"),Object(g["a"])(w,u,d,!1,null,null,null)),j=L.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"parent"},[n("router-link",{staticClass:"child",attrs:{tag:"div",to:{name:"Story",params:{id:t.story.nextId}}}},[t._v("\n    Previous\n  ")]),n("router-link",{staticClass:"child",attrs:{tag:"div",to:{name:"Blog Index"}}},[t._v("Index")]),n("router-link",{staticClass:"child",attrs:{tag:"div",to:{name:"Story",params:{id:t.story.previousId}}}},[t._v("\n    Next\n  ")])],1)},S=[],k={props:["story"]},_=k,O=(n("6b24"),Object(g["a"])(_,I,S,!1,null,"0eed590f",null)),z=O.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:""}},[t.isPhoto?n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://s3.amazonaws.com/road-trip-blog/"+t.media.file+"-w"+t.imageWidth+".jpeg",expression:"\n      'https://s3.amazonaws.com/road-trip-blog/' +\n        media.file +\n        '-w' +\n        imageWidth +\n        '.jpeg'\n    "}],attrs:{alt:""}}):t._e(),t.isVideo?n("vue-plyr",[n("video",{attrs:{src:t.url}})]):t._e(),n("figcaption",[t._v(t._s(t.media.description))])],1)},C=[],x={name:"Media",data(){return{url:"https://s3.amazonaws.com/road-trip-blog/"+this.media.file}},props:["media","imageWidth"],computed:{isVideo(){return"video/x-m4v"==this.media.contentType},isPhoto(){return"image/jpeg"==this.media.contentType},isPano(){return this.isPhoto&&this.media.width/this.media.height>1.5},photoResource(){return this.media.file.split+"-w"+this.imageWidth+".webp"}}},T=x,D=Object(g["a"])(T,E,C,!1,null,"775aa63e",null),W=D.exports,P={components:{StoryIndex:j,Navbar:z,DateRange:b,Media:W},data:()=>({story:null}),methods:{...Object(s["b"])(["setStory"]),async fetchData(){if(!this.storySelected)return void this.setStory(null);const t=this.$route.params.id,e=await fetch(`https://road-trip-blog.s3.amazonaws.com/${t}.json`),n=await e.json();this.story=n,this.setStory(n)}},created(){this.fetchData()},watch:{$route:"fetchData"},metaInfo(){return this.story?{title:this.story.title,titleTemplate:"%s ← Katie and Cory go places together",meta:[{"http-equiv":"Content-Type",content:"text/html; charset=utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{name:"description",content:this.description}]}:{}},computed:{description(){return this.story.description?this.story.description:`Our time in ${this.story.location}`},storySelected(){return this.$route.params.id},storySelectedAndLoaded(){return this.storySelected&&this.story},inspectorWidth(){return this.$refs.inspector.offsetWidth},imageWidth(){return[2100,1600,1200,700,250].find(t=>this.inspectorWidth<t)}}},R=P,H=(n("38c3"),Object(g["a"])(R,c,l,!1,null,null,null)),B=H.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map-container"},[n("l-map",{ref:"map",attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.places,(function(e,r){return n("l-marker",{key:r,attrs:{"lat-lng":e.latLng},on:{click:function(n){return t.updateInspector(e.story)}}})})),t._l(t.photos,(function(e){return t.story?n("l-marker",{key:e.file,attrs:{icon:t.cmarker,"lat-lng":e.latLng}}):t._e()}))],2)],1)},M=[],J=n("e11e"),U=n.n(J),Z=n("004e"),N=n.n(Z),$=n("abdd"),V=n.n($),Y={name:"Map",data(){return{cmarker:U.a.icon({iconUrl:n("9d95"),iconSize:[20,20],shadowUrl:n("96ae"),shadowSize:[20,20],shadowAnchor:[8,8]}),placeIndex:null,zoom:3,center:U.a.latLng(35.57369428380629,-97.82369995593741),url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community",showParagraph:!1,mapOptions:{zoomSnap:.5}}},computed:{...Object(s["c"])(["story","stories"]),places(){return this.stories.map(t=>({story:t,latLng:U.a.latLng(t.lat,t.lng)}))},photos(){return this.story&&this.story.photos?this.story.photos.filter(t=>t.lat).map(t=>({photo:t,latLng:U.a.latLng(t.lat,t.lng)})):[]},photoBounds(){const t=this.photos.map(t=>t.latLng.lat),e=this.photos.map(t=>t.latLng.lng),n=U.a.latLng(V()(t),V()(e)),r=U.a.latLng(N()(t),N()(e));return U.a.latLngBounds(n,r)},storyBounds(){const t=this.places.map(t=>t.latLng.lat),e=this.places.map(t=>t.latLng.lng),n=U.a.latLng(V()(t),V()(e)),r=U.a.latLng(N()(t),N()(e));return U.a.latLngBounds(n,r)}},watch:{story(){this.updateMapBounds()}},mounted(){},methods:{updateMapBounds(){this.story?this.$refs.map.mapObject.fitBounds(this.photoBounds,{padding:[1,1],maxZoom:12}):this.$refs.map.mapObject.fitBounds(this.storyBounds,{padding:[1,1],maxZoom:12,animate:!0})},updateInspector(t){this.$router.push({name:"Story",params:{id:t.id}}).catch(t=>{})},zoomUpdate(t){this.currentZoom=t},centerUpdate(t){this.currentCenter=t}}},X=Y,G=(n("5490"),Object(g["a"])(X,Q,M,!1,null,null,null)),F=G.exports,K={data:()=>({}),components:{Map:F,Inspector:B,Navbar:z},computed:{...Object(s["c"])(["story"])}},q=K,tt=(n("560f"),Object(g["a"])(q,o,a,!1,null,null,null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:""}},[n("h1",[t._v("photos")]),t._l(t.photos,(function(e){return n("div",{key:e.file,staticClass:"photo"},[n("img",{attrs:{src:"https://s3.amazonaws.com/road-trip-blog/"+e.file.split(".")[0]+"-w700.webp",alt:""},on:{click:function(n){return t.copyDate(e)}}})])}))],2)},rt=[],it={data(){return{photos:[]}},async created(){const t=await fetch("https://road-trip-blog.s3.amazonaws.com/photosIndex.json"),e=await t.json();this.photos=e},computed:{imageWidth(){return"250"}},methods:{copyDate(t){const e=document.createElement("textarea");e.value=t.date,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},ot=it,at=(n("ef29"),Object(g["a"])(ot,nt,rt,!1,null,"56cdf62c",null)),st=at.exports;r["a"].use(i["a"]);var ct=new i["a"]({mode:"history",scrollBehavior(){return{x:0,y:0}},routes:[{path:"/photos",name:"Photos",component:st},{path:"/",name:"Blog Index",component:et},{path:"/:id",name:"Story",component:et}]}),lt=n("b166"),ut=n("2699"),dt=n("a40a"),ht=n("4e2b"),pt=n("58ca"),ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},mt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gt=function(t){return null==t||"function"!==typeof t&&"object"!==("undefined"===typeof t?"undefined":ft(t))},yt=function(t,e){if(null===t||"undefined"===typeof t)throw new TypeError("expected first argument to be an object.");if("undefined"===typeof e||"undefined"===typeof Symbol)return t;if("function"!==typeof Object.getOwnPropertySymbols)return t;var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,o=0;while(++o<i)for(var a=Object(arguments[o]),s=Object.getOwnPropertySymbols(a),c=0;c<s.length;c++){var l=s[c];n.call(a,l)&&(r[l]=a[l])}return r},bt=Object.prototype.toString,At=function(t){var e="undefined"===typeof t?"undefined":ft(t);return"undefined"===e?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"undefined"!==typeof t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":"undefined"!==typeof Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":(e=bt.call(t),"[object RegExp]"===e?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":"[object Promise]"===e?"promise":wt(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Map Iterator]"===e?"mapiterator":"[object Set Iterator]"===e?"setiterator":"[object String Iterator]"===e?"stringiterator":"[object Array Iterator]"===e?"arrayiterator":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object")};function wt(t){return t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function Lt(t){t=t||{};var e=arguments.length,n=0;if(1===e)return t;while(++n<e){var r=arguments[n];gt(t)&&(t=r),It(r)&&jt(t,r)}return t}function jt(t,e){for(var n in yt(t,e),e)if(kt(n)&&St(e,n)){var r=e[n];It(r)?("undefined"===At(t[n])&&"function"===At(r)&&(t[n]=r),t[n]=Lt(t[n]||{},r)):t[n]=r}return t}function It(t){return"object"===At(t)||"function"===At(t)}function St(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kt(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t}var _t=Lt,Ot="undefined"!==typeof window,zt=Et();function Et(){return!!(Ot&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0)}var Ct={event:"event",observer:"observer"},xt=function(){if(Ot)return"function"===typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}();function Tt(t,e){if(t.length){var n=t.indexOf(e);return n>-1?t.splice(n,1):void 0}}function Dt(t,e){for(var n=!1,r=0,i=t.length;r<i;r++)if(e(t[r])){n=!0;break}return n}function Wt(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var n=t.getAttribute("data-srcset"),r=[],i=t.parentNode,o=i.offsetWidth*e,a=void 0,s=void 0,c=void 0;n=n.trim().split(","),n.map((function(t){t=t.trim(),a=t.lastIndexOf(" "),-1===a?(s=t,c=999998):(s=t.substr(0,a),c=parseInt(t.substr(a+1,t.length-a-2),10)),r.push([c,s])})),r.sort((function(t,e){if(t[0]<e[0])return 1;if(t[0]>e[0])return-1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0}));for(var l="",u=void 0,d=0;d<r.length;d++){u=r[d],l=u[1];var h=r[d+1];if(h&&h[0]<o){l=u[1];break}if(!h){l=u[1];break}}return l}}function Pt(t,e){for(var n=void 0,r=0,i=t.length;r<i;r++)if(e(t[r])){n=t[r];break}return n}var Rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Ot&&window.devicePixelRatio||t};function Ht(){if(!Ot)return!1;var t=!0,e=document;try{var n=e.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",e.body.appendChild(n),t=!n.offsetWidth,e.body.removeChild(n)}catch(r){t=!1}return t}function Bt(t,e){var n=null,r=0;return function(){if(!n){var i=Date.now()-r,o=this,a=arguments,s=function(){r=Date.now(),n=!1,t.apply(o,a)};i>=e?s():n=setTimeout(s,e)}}}function Qt(){if(Ot){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(n){}return t}}var Mt=Qt(),Jt={on:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Mt?t.addEventListener(e,n,{capture:r,passive:!0}):t.addEventListener(e,n,r)},off:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,r)}},Ut=function(t,e,n){var r=new Image;if(console.log(t),!t||!t.src){var i=new Error("image src is required");return n(i)}r.src=t.src,r.onload=function(){console.log("onload"),console.log(r),e({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src})},r.onerror=function(t){console.log("got an error"),console.log(JSON.stringify(t)),n(t)}},Zt=function(t,e){return"undefined"!==typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},Nt=function(t){return Zt(t,"overflow")+Zt(t,"overflow-y")+Zt(t,"overflow-x")},$t=function(t){if(Ot){if(!(t instanceof HTMLElement))return window;var e=t;while(e){if(e===document.body||e===document.documentElement)break;if(!e.parentNode)break;if(/(scroll|auto)/.test(Nt(e)))return e;e=e.parentNode}return window}};function Vt(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":ft(t))}function Yt(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function Xt(t){for(var e=t.length,n=[],r=0;r<e;r++)n.push(t[r]);return n}function Gt(){}var Ft=function(){function t(e){var n=e.max;vt(this,t),this.options={max:n||100},this._caches=[]}return mt(t,[{key:"has",value:function(t){return this._caches.indexOf(t)>-1}},{key:"add",value:function(t){this.has(t)||(this._caches.push(t),this._caches.length>this.options.max&&this.free())}},{key:"free",value:function(){this._caches.shift()}}]),t}(),Kt=function(){function t(e){var n=e.el,r=e.src,i=e.error,o=e.loading,a=e.bindType,s=e.$parent,c=e.options,l=e.elRenderer,u=e.imageCache;vt(this,t),this.el=n,this.src=r,this.error=i,this.loading=o,this.bindType=a,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=c,this.rect=null,this.$parent=s,this.elRenderer=l,this._imageCache=u,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return mt(t,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,n=t.loading,r=t.error,i=this.src;this.src=e,this.loading=n,this.error=r,this.filter(),i!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var t=this;Yt(this.options.filter).map((function(e){t.options.filter[e](t,t.options)}))}},{key:"renderLoading",value:function(t){var e=this;this.state.loading=!0,Ut({src:this.loading},(function(n){e.render("loading",!1),e.state.loading=!1,t()}),(function(){t(),e.state.loading=!1,e.options.silent||console.warn("VueLazyload log: load failed with loading image("+e.loading+")")}))}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void e()):this.state.rendered&&this.state.loaded?void 0:this._imageCache.has(this.src)?(console.log("image cache has source"),this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading((function(){t.attempt++,t.options.adapter["beforeLoad"]&&t.options.adapter["beforeLoad"](t,t.options),t.record("loadStart"),Ut({src:t.src},(function(n){console.log("success loading image"),t.naturalHeight=n.naturalHeight,t.naturalWidth=n.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),t.state.rendered=!0,t._imageCache.add(t.src),e()}),(function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)}))}))}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"$destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),t}(),qt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",te=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],ee={rootMargin:"0px",threshold:0},ne=function(t){return function(){function e(t){var n=t.preLoad,r=t.error,i=t.throttleWait,o=t.preLoadTop,a=t.dispatchEvent,s=t.loading,c=t.attempt,l=t.silent,u=void 0===l||l,d=t.scale,h=t.listenEvents,p=(t.hasbind,t.filter),f=t.adapter,v=t.observer,m=t.observerOptions;vt(this,e),this.version="1.3.3",this.mode=Ct.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:u,dispatchEvent:!!a,throttleWait:i||200,preLoad:n||1.3,preLoadTop:o||0,error:r||qt,loading:s||qt,attempt:c||3,scale:d||Rt(d),ListenEvents:h||te,hasbind:!1,supportWebp:Ht(),filter:p||{},adapter:f||{},observer:!!v,observerOptions:m||ee},this._initEvent(),this._imageCache=new Ft({max:200}),this.lazyLoadHandler=Bt(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Ct.observer:Ct.event)}return mt(e,[{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_t(this.options,t)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map((function(e){t.push(e.performance())})),t}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),Ot&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(e,n,r){var i=this;if(Dt(this.ListenerQueue,(function(t){return t.el===e})))return this.update(e,n),t.nextTick(this.lazyLoadHandler);var o=this._valueFormatter(n.value),a=o.src,s=o.loading,c=o.error;t.nextTick((function(){a=Wt(e,i.options.scale)||a,i._observer&&i._observer.observe(e);var o=Object.keys(n.modifiers)[0],l=void 0;o&&(l=r.context.$refs[o],l=l?l.$el||l:document.getElementById(o)),l||(l=$t(e));var u=new Kt({bindType:n.arg,$parent:l,el:e,loading:s,error:c,src:a,elRenderer:i._elRenderer.bind(i),options:i.options,imageCache:i._imageCache});i.ListenerQueue.push(u),Ot&&(i._addListenerTarget(window),i._addListenerTarget(l)),i.lazyLoadHandler(),t.nextTick((function(){return i.lazyLoadHandler()}))}))}},{key:"update",value:function(e,n,r){var i=this,o=this._valueFormatter(n.value),a=o.src,s=o.loading,c=o.error;a=Wt(e,this.options.scale)||a;var l=Pt(this.ListenerQueue,(function(t){return t.el===e}));l?l.update({src:a,loading:s,error:c}):this.add(e,n,r),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),t.nextTick((function(){return i.lazyLoadHandler()}))}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=Pt(this.ListenerQueue,(function(e){return e.el===t}));e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),Tt(this.ListenerQueue,e),e.$destroy())}}},{key:"removeComponent",value:function(t){t&&(Tt(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;zt||t!==Ct.observer||(t=Ct.event),this.mode=t,t===Ct.event?(this._observer&&(this.ListenerQueue.forEach((function(t){e._observer.unobserve(t.el)})),this._observer=null),this.TargetQueue.forEach((function(t){e._initListen(t.el,!0)}))):(this.TargetQueue.forEach((function(t){e._initListen(t.el,!1)})),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=Pt(this.TargetQueue,(function(e){return e.el===t}));return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Ct.event&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(t){var e=this;this.TargetQueue.forEach((function(n,r){n.el===t&&(n.childrenCount--,n.childrenCount||(e._initListen(n.el,!1),e.TargetQueue.splice(r,1),n=null))}))}},{key:"_initListen",value:function(t,e){var n=this;this.options.ListenEvents.forEach((function(r){return Jt[e?"on":"off"](t,r,n.lazyLoadHandler)}))}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e]||(t.Event.listeners[e]=[]),t.Event.listeners[e].push(n)},this.$once=function(e,n){var r=t;function i(){r.$off(e,i),n.apply(r,arguments)}t.$on(e,i)},this.$off=function(e,n){if(n)Tt(t.Event.listeners[e],n);else{if(!t.Event.listeners[e])return;t.Event.listeners[e].length=0}},this.$emit=function(e,n,r){t.Event.listeners[e]&&t.Event.listeners[e].forEach((function(t){return t(n,r)}))}}},{key:"_lazyLoadHandler",value:function(){var t=this,e=[];this.ListenerQueue.forEach((function(t,n){t.el&&t.el.parentNode||e.push(t);var r=t.checkInView();r&&t.load()})),e.forEach((function(e){Tt(t.ListenerQueue,e),e.$destroy()}))}},{key:"_initIntersectionObserver",value:function(){var t=this;zt&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((function(e){t._observer.observe(e.el)})))}},{key:"_observerHandler",value:function(t,e){var n=this;t.forEach((function(t){t.isIntersecting&&n.ListenerQueue.forEach((function(e){if(e.el===t.target){if(e.state.loaded)return n._observer.unobserve(e.el);e.load()}}))}))}},{key:"_elRenderer",value:function(t,e,n){if(t.el){var r=t.el,i=t.bindType,o=void 0;switch(e){case"loading":o=t.loading;break;case"error":o=t.error;break;default:o=t.src;break}if(i?r.style[i]='url("'+o+'")':r.getAttribute("src")!==o&&r.setAttribute("src",o),r.setAttribute("lazy",e),this.$emit(e,t,n),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var a=new xt(e,{detail:t});r.dispatchEvent(a)}}}},{key:"_valueFormatter",value:function(t){var e=t,n=this.options.loading,r=this.options.error;return Vt(t)&&(t.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+t),e=t.src,n=t.loading||this.options.loading,r=t.error||this.options.error),{src:e,loading:n,error:r}}}]),e}()},re=function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),Ot&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy:function(){return this.$destroy}}}},ie=function(){function t(e){var n=e.lazy;vt(this,t),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return mt(t,[{key:"bind",value:function(t,e,n){var r=new ae({el:t,binding:e,vnode:n,lazy:this.lazy});this._queue.push(r)}},{key:"update",value:function(t,e,n){var r=Pt(this._queue,(function(e){return e.el===t}));r&&r.update({el:t,binding:e,vnode:n})}},{key:"unbind",value:function(t,e,n){var r=Pt(this._queue,(function(e){return e.el===t}));r&&(r.clear(),Tt(this._queue,r))}}]),t}(),oe={selector:"img"},ae=function(){function t(e){var n=e.el,r=e.binding,i=e.vnode,o=e.lazy;vt(this,t),this.el=null,this.vnode=i,this.binding=r,this.options={},this.lazy=o,this._queue=[],this.update({el:n,binding:r})}return mt(t,[{key:"update",value:function(t){var e=this,n=t.el,r=t.binding;this.el=n,this.options=_t({},oe,r.value);var i=this.getImgs();i.forEach((function(t){e.lazy.add(t,_t({},e.binding,{value:{src:"dataset"in t?t.dataset.src:t.getAttribute("data-src"),error:("dataset"in t?t.dataset.error:t.getAttribute("data-error"))||e.options.error,loading:("dataset"in t?t.dataset.loading:t.getAttribute("data-loading"))||e.options.loading}}),e.vnode)}))}},{key:"getImgs",value:function(){return Xt(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this,e=this.getImgs();e.forEach((function(e){return t.lazy.remove(e)})),this.vnode=null,this.binding=null,this.lazy=null}}]),t}(),se=function(t){return{props:{src:[String,Object],tag:{type:String,default:"img"}},render:function(t){return t(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:function(){return{el:null,options:{src:"",error:"",loading:"",attempt:t.options.attempt},state:{loaded:!1,error:!1,attempt:0},rect:{},renderSrc:""}},watch:{src:function(){this.init(),t.addLazyBox(this),t.lazyLoadHandler()}},created:function(){this.init(),this.renderSrc=this.options.loading},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{init:function(){var e=t._valueFormatter(this.src),n=e.src,r=e.loading,i=e.error;this.state.loaded=!1,this.options.src=n,this.options.error=i,this.options.loading=r,this.renderSrc=this.options.loading},getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),Ot&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;if(this.state.attempt>this.options.attempt-1&&this.state.error)return t.options.silent||console.log("VueLazyload log: "+this.options.src+" tried too more than "+this.options.attempt+" times"),void n();var r=this.options.src;Ut({src:r},(function(t){var n=t.src;e.renderSrc=n,e.state.loaded=!0}),(function(t){e.state.attempt++,e.renderSrc=e.options.error,e.state.error=!0}))}}}},ce={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ne(t),r=new n(e),i=new ie({lazy:r}),o="2"===t.version.split(".")[0];t.prototype.$Lazyload=r,e.lazyComponent&&t.component("lazy-component",re(r)),e.lazyImage&&t.component("lazy-image",se(r)),o?(t.directive("lazy",{bind:r.add.bind(r),update:r.update.bind(r),componentUpdated:r.lazyLoadHandler.bind(r),unbind:r.remove.bind(r)}),t.directive("lazy-container",{bind:i.bind.bind(i),componentUpdated:i.update.bind(i),unbind:i.unbind.bind(i)})):(t.directive("lazy",{bind:r.lazyLoadHandler.bind(r),update:function(t,e){_t(this.vm.$refs,this.vm.$els),r.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){r.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){i.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){i.unbind(this.el)}}))}},le=ce,ue=n("0284"),de=n.n(ue),he=(n("6cc5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),pe=[],fe={name:"App",async created(){const t=await fetch("https://road-trip-blog.s3.amazonaws.com/storiesIndex.json"),e=await t.json();this.setStories(e)},methods:{...Object(s["b"])(["setStories"])}},ve=fe,me=(n("034f"),Object(g["a"])(ve,he,pe,!1,null,null,null)),ge=me.exports;r["a"].use(s["a"]);var ye=new s["a"].Store({state:{currentStory:null,stories:[]},mutations:{setStory(t,e){t.currentStory=e},setStories(t,e){t.stories=e}},actions:{setStory:(t,e)=>{t.commit("setStory",e)},setStories:(t,e)=>t.commit("setStories",e)},getters:{story:t=>t.currentStory,stories:t=>t.stories.sort((t,e)=>new Date(e.startDate)-new Date(t.startDate))}}),be=n("788d");n("373e");r["a"].use(be["a"]),r["a"].use(de.a,{id:"UA-19114773-13",router:ct}),r["a"].use(pt["a"]),r["a"].use(le,{preLoad:2}),r["a"].component("l-map",ut["a"]),r["a"].component("l-tile-layer",dt["a"]),r["a"].component("l-marker",ht["a"]),delete J["Icon"].Default.prototype._getIconUrl,J["Icon"].Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")}),r["a"].config.productionTip=!1,r["a"].filter("formatDate",t=>Object(lt["a"])(new Date(t),"LLLL do, u")),new r["a"]({el:"#app",store:ye,router:ct,components:{App:ge},template:"<App/>"})},"64a9":function(t,e,n){},"6b24":function(t,e,n){"use strict";var r=n("f18d"),i=n.n(r);i.a},8675:function(t,e,n){"use strict";var r=n("869a"),i=n.n(r);i.a},"869a":function(t,e,n){},"96ae":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAthJREFUWIXNmOuS2jAMhQ+E+3bf/0FblgUW6A90khNFMgmYTj2jIWSs6BtZlizPUHfM5PlW+4Ov6Ja+c0ueJxuZMn+WSAQXyWjYxUQ4yhxAY78qfomvTi72OxpyjAcVrDFZOOF7zqOnLiY/Tvjee3UwHnlQPUaYlcnafpcCORddeuwHwBnACcDRfk8Ce7X5IWQJUL1GsI2TtQOMPEjAI4BvJzN0Hg0hM0CFWxrIzmRrsjFo9Z4HVC+eDOogel8GjgwyAvRwGwAfIrsCHPV1ExByJbIM9ELIDJAxtzaoXwA+7VnhuHup58cN5Y01k3nq9RSQ3mPM7Qzq0yC39l53bQbH94Skt3xK0nR0wz1e21VYuI/pptgI4IfA0XNZco4gORr336eiQZ6MPNig27FbxDH3TImMKs4V/TR0Rj9HopHJrA4rA/Nx51PJK8NvKIIOkrgGuG4OzXneczXgsvw6CKG5U6TSGl2lmBpzUyDVIbTZCyMPSIUl8hJWczCsvM12l0dLrDmrQTnPvTL4vcxmu8QasJzc+ImV4RSyZHewdKrwTrASaM9uFFvRqflfwIVVKQLUQl88TFYaxVbAA/qC/W64h3bn6JPzaER5N6g/N3q7rQejA6YWb86pDYeCzV6po4IW73MAWXv4voU2Bx4kICcf0TU4qlDLi7pibAdok05Jl1j7h2+B1DaxBpzvVdRW65Am+IDP7L7v9X3EM4NLe8S9cfoDYI97Q0XIwXnQJ0q9PcjK3hTQaJUOArfH3YvaKyPyoIfVPsLX7jGgmsaYRgi3F8AvdJukDaVsifWjHjaCy+IySiVHgfuNznvcIL04zzyoBqLSl91WKVDWuDPmdGkJ12s5gbgv5oSLe0djbHBeuVk4GChvFtgsDbJEdvXhIaOcVeNu5mEKK10eKaQaVGO1brfS/Prf3w9OyWO1b1hHVaWpFSE6bZdO3o92/WiDz4ypido/jxp/AWaOkzH5U+ltAAAAAElFTkSuQmCC"},"9d95":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAeJJREFUWIXtmKFrQlEUhz/HmhNZWTMKpoHRZDIMXBH0L9iQ5f0BY3kYx5AtLCuYhAWTZUarIKzY1sSZXXhHUO871/vcu7LwPnhBve/8Pi88vedAQkKClVTYm9+3d673l4ESUAQKQA7IAnNgBkyAMTAChi4FL15ftl6fuppskAbqQA2oEv4lz+W6BBrACugDPaALLF3DogpWgBsJjUIKuJbrCngDBi43nkQIaQLPB8jt0pA6TZfFrjt4DzwAmQOldskDT8AZ0LItdNnBJvHKrclIXetO7hOsEOxe3HJrMlK/oi2wCaYJHoh8zFK75CUnHfahTbDO3x8IVxqSZ2ATrPlxiZanCZYJfoSPSVVyt9AESyh/gx5JSe4WmmDRr4uKkasJFjyLaBi5mmDOs4iGkasJZj2LaBi5muDcs4iGkasJzjyLaBi5muDEs4iGkasJjj2LaBi5muCI4Jh+TFaSu4UmOCToIY5Jn5DGynZY6Plzcc+zCXaBjh8Xg47kGdgElwTd19SH0QZTyQltRfcd+QcETc0iZqk1C6mvtqAuTVMbeCR+yYXUbdsWubadLeCHoMGJo0eZSk2rHESbLLSBLw6bLGzSIcJkIeroYwB8Ah/YZzO7HG02gxR/lyv26VZCwn/jF7pEVnFdzypfAAAAAElFTkSuQmCC"},bdf3:function(t,e,n){},c310:function(t,e,n){},ef29:function(t,e,n){"use strict";var r=n("0710"),i=n.n(r);i.a},f18d:function(t,e,n){}});
//# sourceMappingURL=app.d24c7b2c.js.map